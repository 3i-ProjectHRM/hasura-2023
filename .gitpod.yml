# image:
#   file: .gitpod.Dockerfile

tasks:
  - name: Boot
    init: curl -L https://github.com/hasura/graphql-engine/raw/stable/cli/get.sh | bash
    command: docker compose up
  - name: Readme
    command: code README.md
    openMode: tab-after


ports:
# Because GitPod's auth proxy will only work through the browser, but Hasura needs 
# to ping the server from the CLI, we need to make this port public.
  - port: 5000
    visibility: public

# For some reason, we run into CORS issues if this port is not made public.
  - port: 9693
    visibility: public
